var VueSmartBus=function(){"use strict";return function(t){var n=new t;Object.defineProperty(t.prototype,"$bus",{value:n,configurable:!1,writable:!1}),t.mixin({created:function(){var e=this;if(!this.$isServer){var t=this.$options.$_busEvents&&this.$options.$_busEvents.bind(this)();if(t){var s=Object.create(null);this.$options.$_busEventsMap=s,Object.entries(t).forEach(function(t){var n=t[0],i=t[1];function r(t,n,i,r){var e=n.once?"$once":"$on",s=n.handler?n.handler.bind(this):n.bind(this);i[t]?i[t].push(s):i[t]=[s],r[e](t,s)}Array.isArray(i)?i.forEach(function(t){r(n,t,s,e.$bus)}):r(n,i,s,e.$bus)})}}},beforeDestroy:function(){var i=this;if(!this.$isServer){var t=this.$options.$_busEventsMap;t&&Object.entries(t).forEach(function(t){var n=t[0];t[1].forEach(function(t){i.$bus.$off(n,t)})})}}})}}();
